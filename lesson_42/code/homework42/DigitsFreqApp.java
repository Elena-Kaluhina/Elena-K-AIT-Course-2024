package homework42;

import java.util.HashMap;
import java.util.Map;
import java.util.Random;

public class DigitsFreqApp {

    public static void main(String[] args) {

        // Создаем Map для хранения частоты каждой цифры от 0 до 9
        Map<Integer, Integer> digitFrequency = new HashMap<>();

        // Создаем генератор случайных чисел
        Random random = new Random();

        // Генерируем поток из 1_000_000 случайных чисел от 100 до 1000 включительно и обрабатываем каждое число
        random.ints(1_000_000, 100, 1001).forEach(num -> {
            // Пока в числе остаются цифры, обрабатываем его по одной цифре
            while (num > 0) {
                int digit = num % 10; // Получаем последнюю цифру числа
                // Обновляем частоту текущей цифры в Map:
                // Если цифра уже встречалась, увеличиваем частоту на 1; если нет, устанавливаем частоту 1
                digitFrequency.compute(digit, (k, v) -> v == null ? 1 : v + 1);
                num /= 10; // Убираем последнюю цифру из числа
            }
        });

        // Выводим результаты: для каждой цифры отображаем частоту ее появления
        digitFrequency.forEach((digit, frequency) ->
                System.out.println("Digit " + digit + " appears " + frequency + " times."));
    }
}

//Импортируем необходимые классы: HashMap, Map, и Random.
//Определение класса DigitsFreqApp.
//В main создаем Map digitFrequency для хранения частоты каждой цифры.
//Создаем генератор случайных чисел random.
//Используем random.ints(1_000_000, 100, 1001) для генерации потока из 1 миллиона
//случайных чисел от 100 до 1000 (включительно) и обрабатываем каждое число в forEach.
//while (num > 0): Пока число не станет нулем, извлекаем его цифры.
//num % 10: Получаем последнюю цифру текущего числа.
//digitFrequency.compute: Обновляем частоту цифры:
//Если цифра не встречалась (значение null), устанавливаем частоту как 1.
//Если цифра уже есть в Map, увеличиваем значение на 1.
//num /= 10: Удаляем последнюю цифру из числа, сокращая его на одну цифру.
//Вывод результата: forEach выводит частоту каждой цифры, проходя по всем парам (цифра, частота) в digitFrequency.
